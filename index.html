<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lawgic Bytes | Interactive Legal Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-auth-compat.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'law-navy': '#0f172a',
                        'law-gold': '#d97706',
                        'law-bg': '#fdfbf7',
                        'law-accent': '#6366f1',
                        'cartoon-border': '#1e293b'
                    },
                    boxShadow: {
                        'cartoon': '8px 8px 0px #1e293b',
                        'cartoon-sm': '4px 4px 0px #1e293b',
                        'glow': '0 0 30px rgba(99, 102, 241, 0.4)'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=Playfair+Display:wght@700;900&family=Fira+Code:wght@400;700&display=swap');
        
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #fdfbf7; color: #1e293b; scroll-behavior: smooth; overflow-x: hidden; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        
        #bg-canvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            pointer-events: none;
            opacity: 0.3;
            transition: opacity 1s;
        }

        .cartoon-card {
            border: 3px solid #1e293b;
            transition: all 0.2s ease;
        }
        .cartoon-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: 12px 12px 0px #1e293b;
        }

        .modal-content { transition: transform 0.3s ease; border: 4px solid #1e293b; box-shadow: 15px 15px 0px #1e293b; }

        .wisdom-card {
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }
        
        /* High-Level Warp Animation */
        @keyframes liquidSwim {
            0% { transform: scale(1) skew(0deg); filter: blur(0px); }
            30% { transform: scale(1.05) skew(2deg); filter: blur(2px); }
            100% { transform: scale(1) skew(0deg); filter: blur(0px); }
        }
        .swim-active { animation: liquidSwim 1.2s cubic-bezier(0.45, 0, 0.55, 1); }

        #vault-overlay {
            background: radial-gradient(circle at center, #0f172a 0%, #020617 100%);
            transition: all 0.8s cubic-bezier(0.85, 0, 0.15, 1);
        }

        .lawgic-particle {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            font-family: 'Fira Code', monospace;
            font-weight: bold;
            color: #d97706;
            animation: particle-fly 1.2s ease-out forwards;
        }
        @keyframes particle-fly {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(calc(-50% + var(--tw-x)), calc(-50% + var(--tw-y))) rotate(45deg) scale(0.3); }
        }

        @keyframes shake {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-3px, -2px); }
            100% { transform: translate(0, 0); }
        }
        .shake-ui { animation: shake 0.2s; }
        
        .hud-text { font-family: 'Fira Code', monospace; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        .float-anim { animation: float 4s ease-in-out infinite; }
    </style>
</head>
<body class="antialiased">

    <div id="fx-container"></div>
    <canvas id="bg-canvas"></canvas>

    <!-- THE LAWGIC CORE: SECRET VAULT -->
    <div id="vault-overlay" class="fixed inset-0 z-[300] opacity-0 pointer-events-none flex items-center justify-center p-6 overflow-auto">
        <div class="max-w-4xl w-full text-center space-y-12 py-20">
            <button onclick="closeVault()" class="bg-white/10 hover:bg-white/20 text-white px-8 py-3 rounded-full border border-white/20 font-black transition-all mb-8 uppercase tracking-widest text-xs">
                <i class="fas fa-power-off mr-2"></i> Close Lawgic Core
            </button>
            
            <div class="relative inline-block">
                <div class="text-[120px] float-anim">üí†</div>
                <div class="absolute -top-4 -right-4 bg-law-gold text-law-navy text-[10px] font-black px-4 py-1 rounded-full shadow-glow">ENCRYPTED ACCESS</div>
            </div>

            <h2 class="text-6xl md:text-8xl font-black text-white italic tracking-tighter uppercase">The <span class="text-law-gold">Lawgic</span> Core</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left">
                <div class="p-10 bg-white/5 backdrop-blur-2xl border border-white/10 rounded-[3.5rem] space-y-6">
                    <h3 class="text-2xl font-bold text-law-gold tracking-tight">The Architect's Vision</h3>
                    <p class="text-slate-300 leading-relaxed font-medium">
                        Welcome to the source code of <b>Lawgic Bytes</b>. This hub serves as the bridge between static legal texts and interactive digital intelligence. By mapping every "Byte" of the law, we empower the community to visualize justice rather than just reading it.
                    </p>
                    <div class="flex items-center gap-5 pt-4">
                        <div class="h-14 w-14 bg-law-gold rounded-2xl flex items-center justify-center text-law-navy font-black text-xl border-2 border-white shadow-glow">AY</div>
                        <div>
                            <p class="text-white font-black text-lg">Abhishek Yadav</p>
                            <p class="text-[10px] text-slate-500 uppercase tracking-[0.2em] font-bold">System Architect</p>
                        </div>
                    </div>
                </div>
                <div class="p-10 bg-law-gold rounded-[3.5rem] space-y-6 flex flex-col justify-center shadow-glow border-4 border-law-navy">
                    <h3 class="text-3xl font-black text-law-navy uppercase tracking-tighter italic">Founders Protocol</h3>
                    <p class="text-law-navy font-bold text-lg leading-snug">
                        "We don't just build websites. We build automated legal brains for the 2026 digital era."
                    </p>
                    <div class="h-2 w-full bg-law-navy/20 rounded-full overflow-hidden">
                        <div class="h-full bg-law-navy w-[88%] animate-pulse"></div>
                    </div>
                    <p class="text-[10px] font-black text-law-navy/60 uppercase tracking-widest text-center">Lawgic Integration: 88% Stable</p>
                </div>
            </div>
        </div>
    </div>

    <!-- NAVIGATION BAR -->
    <nav class="bg-white/90 backdrop-blur-md border-b-4 border-law-navy sticky top-0 z-50 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <!-- Brand Trigger -->
            <div onclick="openVault()" class="flex items-center gap-3 cursor-help group active:scale-95 transition-transform">
                <div class="h-10 w-10 bg-law-navy flex items-center justify-center rounded-lg shadow-lg border-2 border-white group-hover:rotate-[180deg] transition-transform duration-500">
                    <span class="text-white font-bold text-xl uppercase">LB</span>
                </div>
                <div>
                    <h1 class="text-xl font-black tracking-tight group-hover:text-law-gold transition-colors">Lawgic<span class="text-law-gold">Bytes</span></h1>
                    <p class="text-[9px] uppercase tracking-widest text-stone-500 font-bold">System v2.3</p>
                </div>
            </div>
            
            <div class="hidden lg:flex gap-8 text-sm font-black text-stone-600 uppercase tracking-tight">
                <a href="https://abhishekyadav27001-lab.github.io/BNSS-roadmap/" target="_blank" class="hover:text-law-gold transition-colors flex items-center gap-2">
                    Free Roadmap <i class="fas fa-external-link-alt text-[10px]"></i>
                </a>
                <button onclick="showPage('library')" class="hover:text-law-gold transition-colors">Act Library</button>
                <a href="https://www.linkedin.com/in/abhishekyadav27001" target="_blank" class="text-law-accent hover:underline flex items-center gap-2">
                    <i class="fab fa-linkedin text-xl"></i> Follow Abhishek
                </a>
            </div>

            <div id="auth-status" class="flex items-center gap-4">
                <button id="login-nav-btn" onclick="openAuthModal()" class="bg-law-navy text-white px-5 py-2 rounded-full text-xs font-bold shadow-cartoon-sm hover:bg-slate-800 transition-all">Login</button>
                <div id="user-info" class="hidden flex items-center gap-3">
                    <div class="text-right hidden sm:block">
                        <p id="user-display-email" class="text-[10px] font-black text-law-navy truncate w-32"></p>
                    </div>
                    <button onclick="logout()" class="text-slate-400 hover:text-red-500 transition-colors"><i class="fas fa-power-off"></i></button>
                </div>
            </div>
        </div>
    </nav>

    <!-- PAGE: HOME -->
    <section id="page-home" class="view-section">
        <div class="max-w-6xl mx-auto px-6 py-20 text-center space-y-12">
            
            <div class="flex justify-center mb-6">
                <div onclick="wisdomStrike(event)" class="wisdom-card group">
                    <div class="cartoon-panel bg-white p-10 rounded-[3.5rem] border-4 border-law-navy shadow-cartoon w-full max-w-lg relative overflow-hidden">
                        <div class="flex flex-col items-center space-y-4">
                            <div class="text-5xl text-law-gold mb-2 transition-transform group-hover:scale-125"><i class="fas fa-shield-halved"></i></div>
                            <h3 id="wisdom-text" class="text-xl md:text-2xl font-black italic text-law-navy leading-tight">
                                "The law must be stable and yet it cannot stand still."
                            </h3>
                            <p id="wisdom-author" class="text-sm font-bold text-law-accent uppercase tracking-widest">‚Äî Roscoe Pound</p>
                            <div class="pt-4 flex items-center gap-2">
                                <span class="h-2 w-2 rounded-full bg-law-gold animate-ping"></span>
                                <p class="text-[9px] font-black text-slate-400 uppercase tracking-tighter">Click to trigger Lawgic Strike</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="text-6xl md:text-8xl font-black text-law-navy leading-none tracking-tighter uppercase">Lawgic <span class="text-law-gold italic">Simplified.</span></h2>
            <p class="text-xl text-slate-500 max-w-2xl mx-auto font-semibold leading-relaxed">
                Connect the dots of the new criminal legal landscape. Join Abhishek to build the future of Indian Law. Unlocked for the community.
            </p>
            
            <div class="flex flex-wrap justify-center gap-6 pt-6">
                <a href="https://abhishekyadav27001-lab.github.io/BNSS-roadmap/" target="_blank" class="bg-law-navy text-white px-10 py-5 rounded-2xl font-black shadow-cartoon hover:bg-slate-800 transition-all flex items-center gap-4 text-xl">
                    <i class="fas fa-play"></i> Launch BNSS Roadmap
                </a>
                <button onclick="showPage('library')" class="bg-white border-4 border-law-navy text-law-navy px-10 py-5 rounded-2xl font-black shadow-cartoon-sm hover:bg-slate-50 transition-all text-xl uppercase tracking-tighter">
                    Library
                </button>
            </div>
        </div>
    </section>

    <!-- PAGE: ACT LIBRARY -->
    <section id="page-library" class="view-section hidden pb-24">
        <header class="bg-law-navy text-white py-24 px-6 text-center space-y-4 border-b-8 border-law-gold">
            <h2 class="text-6xl font-black italic tracking-tighter uppercase">The <span class="text-law-gold">Lawgic</span> Library</h2>
            <p class="text-law-gold font-extrabold uppercase tracking-[0.3em] text-xs">Community Protocol: Open Access</p>
        </header>

        <div class="max-w-7xl mx-auto px-6 py-20 grid grid-cols-1 md:grid-cols-3 gap-12">
            <div class="cartoon-card bg-white rounded-[2.5rem] p-10 flex flex-col shadow-cartoon">
                <div class="w-16 h-16 bg-blue-100 text-blue-600 rounded-3xl flex items-center justify-center text-3xl mb-6 border-2 border-law-navy"><i class="fas fa-map-marked-alt"></i></div>
                <h3 class="text-3xl font-black mb-2 tracking-tight">BNSS 2023</h3>
                <p class="text-sm text-slate-500 flex-grow mb-8 font-semibold">The flagship 7-phase interactive visual experience.</p>
                <a href="https://abhishekyadav27001-lab.github.io/BNSS-roadmap/" target="_blank" class="w-full bg-slate-800 text-white py-4 rounded-2xl font-black hover:bg-slate-900 transition-all text-center uppercase text-xs tracking-widest">Launch</a>
            </div>

            <div id="product-bns" class="cartoon-card bg-indigo-50 rounded-[2.5rem] p-10 flex flex-col shadow-cartoon relative overflow-hidden transition-all">
                <div class="absolute top-4 right-4 bg-indigo-600 text-white text-[10px] font-black px-3 py-1 rounded-full uppercase">Free Access</div>
                <div class="w-16 h-16 bg-white border-2 border-law-navy text-indigo-600 rounded-3xl flex items-center justify-center text-3xl mb-6"><i class="fas fa-balance-scale"></i></div>
                <h3 class="text-3xl font-black mb-2 tracking-tight">BNS (Penal)</h3>
                <p class="text-sm text-slate-500 flex-grow mb-8 font-semibold">Interactive comparison of IPC vs Bharatiya Nyaya Sanhita.</p>
                <div id="action-bns">
                     <button onclick="handleAccess('BNS 2023')" class="w-full bg-indigo-600 text-white py-4 rounded-2xl font-black hover:shadow-lg transition-all uppercase text-xs">Unlock</button>
                </div>
            </div>

            <div id="product-bsa" class="cartoon-card bg-emerald-50 rounded-[2.5rem] p-10 flex flex-col shadow-cartoon relative">
                <div class="w-16 h-16 bg-white border-2 border-law-navy text-emerald-600 rounded-3xl flex items-center justify-center text-3xl mb-6"><i class="fas fa-file-invoice"></i></div>
                <h3 class="text-3xl font-black mb-2 tracking-tight">BSA (Evidence)</h3>
                <p class="text-sm text-slate-500 flex-grow mb-8 font-semibold">Mapping digital evidence and forensic mandates.</p>
                <div id="action-bsa">
                    <button onclick="handleAccess('BSA 2023')" class="w-full bg-emerald-600 text-white py-4 rounded-2xl font-black hover:shadow-lg transition-all uppercase text-xs">Unlock</button>
                </div>
            </div>
        </div>

        <div class="max-w-4xl mx-auto px-6 mt-12">
            <div class="bg-law-navy text-white rounded-[4rem] p-12 text-center space-y-6 shadow-cartoon border-4 border-law-gold">
                <h3 class="text-4xl font-black uppercase italic tracking-tighter">Lawgic Feedback</h3>
                <p class="text-slate-300 max-w-lg mx-auto font-medium">Which act should we code next? Share your thoughts directly with Abhishek.</p>
                <button onclick="openFeedbackModal()" class="bg-law-gold text-white px-12 py-5 rounded-2xl font-black shadow-xl hover:bg-amber-700 transition-all uppercase text-xs tracking-[0.2em]">Open Port</button>
            </div>
        </div>
    </section>

    <!-- PAGE: COMING SOON -->
    <section id="page-coming-soon" class="view-section hidden p-8 md:p-16">
        <div class="max-w-4xl mx-auto space-y-12">
            <button onclick="showPage('library')" class="text-sm font-black text-law-gold hover:underline uppercase tracking-widest"><i class="fas fa-arrow-left mr-2"></i> Library Home</button>
            <div class="cartoon-card bg-white p-16 rounded-[4rem] text-center space-y-10 shadow-cartoon border-4 border-law-navy">
                <div class="text-[140px] leading-none animate-bounce">‚öñÔ∏è üò¥</div>
                <div class="speech-bubble text-2xl border-4 mx-auto max-w-md">"The Lawgic engine is still <br>compiling this module!"</div>
                <h2 id="coming-soon-title" class="text-6xl font-black uppercase italic text-law-navy tracking-tighter">Act Name</h2>
                <a href="https://www.linkedin.com/in/abhishekyadav27001" target="_blank" class="bg-blue-600 text-white px-12 py-6 rounded-2xl font-black shadow-cartoon-sm flex items-center justify-center gap-4 hover:bg-blue-700 transition-all mx-auto w-fit text-xl">
                    <i class="fab fa-linkedin text-3xl"></i> Notify on LinkedIn
                </a>
            </div>
        </div>
    </section>

    <!-- MODAL: LOGIN -->
    <div id="auth-modal" class="fixed inset-0 z-[200] flex items-center justify-center bg-law-navy/90 backdrop-blur-md opacity-0 pointer-events-none transition-all duration-300">
        <div class="modal-content bg-white w-full max-w-md rounded-[3.5rem] p-12 text-center">
            <button onclick="closeAuthModal()" class="absolute top-8 right-8 text-slate-300 hover:text-slate-900 transition-colors"><i class="fas fa-times text-xl"></i></button>
            <div class="h-20 w-20 bg-law-gold text-white rounded-2xl flex items-center justify-center text-4xl mx-auto mb-8 shadow-lg border-2 border-law-navy"><i class="fas fa-fingerprint"></i></div>
            <h3 class="text-4xl font-black text-law-navy mb-4 leading-none uppercase italic tracking-tighter">Login Required</h3>
            <p class="text-slate-500 font-semibold mb-10 text-sm">Join the Lawgic community to unlock all interactive modules for free.</p>
            <button onclick="loginWithGoogle()" class="w-full bg-white border-4 border-law-navy py-5 rounded-2xl font-black flex items-center justify-center gap-4 hover:bg-slate-50 transition-all shadow-cartoon-sm text-lg uppercase tracking-tight">
                <img src="https://www.gstatic.com/images/branding/product/1x/gsa_48dp.png" class="w-6" alt="Google"> Continue with Google
            </button>
        </div>
    </div>

    <!-- COMMAND CENTER HUD -->
    <div class="fixed bottom-6 left-6 z-40 bg-law-navy text-white p-4 rounded-2xl border-2 border-law-gold shadow-glow hidden lg:block opacity-80 hover:opacity-100 transition-opacity">
        <div class="hud-text text-[9px] space-y-2">
            <p class="flex justify-between gap-6 border-b border-white/10 pb-1"><span>AUTH:</span> <span class="text-green-400 font-bold uppercase tracking-widest">Linked</span></p>
            <p class="flex justify-between gap-6 border-b border-white/10 pb-1"><span>LAWGIC LOAD:</span> <span id="logic-density" class="text-law-gold font-bold">40%</span></p>
            <p class="flex justify-between gap-6"><span>CORE:</span> <span class="text-blue-400 uppercase">ABHISHEK_2026</span></p>
        </div>
    </div>

    <!-- FOOTER -->
    <footer id="contact" class="bg-white border-t-8 border-law-navy py-20 px-6 mt-12 text-center">
        <div class="max-w-4xl mx-auto space-y-12">
            <div class="flex flex-col items-center gap-2">
                <img src="https://komarev.com/ghpvc/?username=abhishekyadav27001-lab&repo=bnss-roadmap&color=FFD700&style=flat-square&label=LAWGIC+VISITORS" alt="Visitor Counter" class="rounded border-2 border-law-navy">
                <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mt-2">Verified Reach Meter</p>
            </div>
            
            <h3 class="text-5xl font-black uppercase italic tracking-tighter text-law-navy">Connect with Abhishek Yadav</h3>
            <div class="flex flex-col md:flex-row justify-center gap-8">
                <a href="https://www.linkedin.com/in/abhishekyadav27001" target="_blank" class="bg-blue-600 text-white px-12 py-6 rounded-[2.5rem] font-black shadow-cartoon hover:bg-blue-700 transition-all flex items-center justify-center gap-5 text-2xl">
                    <i class="fab fa-linkedin text-4xl"></i> LINKEDIN
                </a>
                <a href="https://wa.me/918957630772" class="bg-green-50 text-white px-12 py-6 rounded-[2.5rem] font-black shadow-cartoon hover:bg-green-600 transition-all flex items-center justify-center gap-5 text-2xl">
                    <i class="fab fa-whatsapp text-4xl"></i> WHATSAPP
                </a>
            </div>
            <p class="text-[10px] text-slate-400 font-black uppercase tracking-widest pt-12">¬© 2026 Lawgic Bytes by Abhishek Yadav ‚Ä¢ Justice in Bytes</p>
        </div>
    </footer>

    <script>
        // --- 1. CONFIG & AUTH ---
        let auth;
        try {
            const firebaseConfig = JSON.parse(__firebase_config);
            firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            auth.setPersistence(firebase.auth.Auth.Persistence.NONE);
        } catch (e) { console.error(e); }

        let currentUser = null;
        const AVAILABLE_ACTS = ["BNSS 2023"]; 

        if (auth) {
            auth.onAuthStateChanged(user => {
                currentUser = user;
                if (user) {
                    document.getElementById('login-nav-btn').classList.add('hidden');
                    document.getElementById('user-info').classList.remove('hidden');
                    document.getElementById('user-display-email').textContent = user.email;
                    updateButtonsForLogin();
                    closeAuthModal();
                    document.getElementById('logic-density').textContent = '100%';
                } else {
                    document.getElementById('login-nav-btn').classList.remove('hidden');
                    document.getElementById('user-info').classList.add('hidden');
                    resetStoreButtons();
                    document.getElementById('logic-density').textContent = '40%';
                }
            });
        }

        async function loginWithGoogle() {
            if (!auth) return;
            const provider = new firebase.auth.GoogleAuthProvider();
            try { await auth.signInWithPopup(provider); } catch (e) {
                alert("Login Error: Browsers block popups in preview. Deploy to GitHub to enable.");
            }
        }

        function logout() { auth.signOut().then(() => location.reload()); }

        // --- 2. LOGIC ---
        function handleAccess(act) {
            if (!currentUser) { openAuthModal(); } 
            else { 
                if (AVAILABLE_ACTS.includes(act)) {
                    window.open('https://abhishekyadav27001-lab.github.io/BNSS-roadmap/', '_blank');
                } else {
                    showComingSoon(act);
                }
            }
        }

        function updateButtonsForLogin() {
            document.getElementById('action-bns').innerHTML = `<button onclick="handleAccess('BNS 2023')" class="w-full bg-indigo-600 text-white py-4 rounded-2xl font-black shadow-cartoon-sm uppercase text-xs">Open Roadmap</button>`;
            document.getElementById('action-bsa').innerHTML = `<button onclick="handleAccess('BSA 2023')" class="w-full bg-emerald-600 text-white py-4 rounded-2xl font-black shadow-cartoon-sm uppercase text-xs">Open Roadmap</button>`;
        }

        function resetStoreButtons() {
            document.getElementById('action-bns').innerHTML = `<button onclick="handleAccess('BNS 2023')" class="w-full bg-indigo-600 text-white py-4 rounded-2xl font-black shadow-cartoon-sm uppercase text-xs">Unlock Access</button>`;
            document.getElementById('action-bsa').innerHTML = `<button onclick="handleAccess('BSA 2023')" class="w-full border-4 border-law-navy py-4 rounded-2xl font-black hover:bg-law-navy hover:text-white transition-all uppercase text-xs shadow-cartoon-sm">Unlock Access</button>`;
        }

        function showPage(pageId) {
            document.querySelectorAll('.view-section').forEach(s => s.classList.add('hidden'));
            document.getElementById(`page-${pageId}`).classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function showComingSoon(title) {
            document.getElementById('coming-soon-title').textContent = title;
            showPage('coming-soon');
        }

        function openAuthModal() { const m = document.getElementById('auth-modal'); m.classList.remove('opacity-0', 'pointer-events-none'); m.querySelector('.modal-content').classList.remove('scale-90'); }
        function closeAuthModal() { const m = document.getElementById('auth-modal'); m.classList.add('opacity-0', 'pointer-events-none'); m.querySelector('.modal-content').classList.add('scale-90'); }
        function openFeedbackModal() { const m = document.getElementById('feedback-modal'); m.classList.remove('opacity-0', 'pointer-events-none'); m.querySelector('.modal-content').classList.remove('scale-90'); }
        function closeFeedbackModal() { const m = document.getElementById('feedback-modal'); m.classList.add('opacity-0', 'pointer-events-none'); m.querySelector('.modal-content').classList.add('scale-90'); }

        // --- 3. SECRET VAULT ---
        function openVault() {
            document.body.classList.add('swim-active');
            document.getElementById('bg-canvas').style.opacity = '1';
            document.getElementById('logic-density').textContent = 'CORE_LINK';
            setTimeout(() => {
                const vault = document.getElementById('vault-overlay');
                vault.classList.remove('opacity-0', 'pointer-events-none');
                vault.classList.add('opacity-100');
                document.body.classList.remove('swim-active');
            }, 600);
        }

        function closeVault() {
            const vault = document.getElementById('vault-overlay');
            vault.classList.remove('opacity-100');
            vault.classList.add('opacity-0', 'pointer-events-none');
            document.getElementById('bg-canvas').style.opacity = '0.3';
            document.getElementById('logic-density').textContent = currentUser ? '100%' : '40%';
        }

        // --- 4. LAWGIC STRIKE & QUOTES ---
        const quotes = [
            { text: "The law must be stable and yet it cannot stand still.", author: "Roscoe Pound" },
            { text: "Justice delayed is justice denied.", author: "William Gladstone" },
            { text: "Ignorance of the law excuses no one.", author: "Legal Maxim" },
            { text: "Injustice anywhere is a threat to justice everywhere.", author: "MLK Jr." },
            { text: "The law is reason, free from passion.", author: "Aristotle" }
        ];
        let currentQuote = 0;

        function wisdomStrike(e) {
            document.body.classList.add('shake-ui');
            setTimeout(() => document.body.classList.remove('shake-ui'), 200);

            currentQuote = (currentQuote + 1) % quotes.length;
            document.getElementById('wisdom-text').textContent = `"${quotes[currentQuote].text}"`;
            document.getElementById('wisdom-author').textContent = `‚Äî ${quotes[currentQuote].author}`;

            const words = ['LAWGIC', 'BYTE', 'BNSS', 'CORE', 'DATA', 'JUSTICE'];
            for(let i=0; i<15; i++) {
                const p = document.createElement('div');
                p.className = 'lawgic-particle';
                p.textContent = words[Math.floor(Math.random()*words.length)];
                p.style.setProperty('--tw-x', (Math.random() * 600 - 300) + 'px');
                p.style.setProperty('--tw-y', (Math.random() * -500 - 100) + 'px');
                p.style.left = e.clientX + 'px';
                p.style.top = e.clientY + 'px';
                document.getElementById('fx-container').appendChild(p);
                setTimeout(() => p.remove(), 1200);
            }
        }

        // --- 5. CANVAS ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let dots = [];
        const dotCount = 60;

        function initCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            dots = [];
            for (let i = 0; i < dotCount; i++) {
                dots.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.4,
                    vy: (Math.random() - 0.5) * 0.4,
                    size: Math.random() * 2 + 1
                });
            }
        }

        function animateCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#6366f1';
            ctx.strokeStyle = 'rgba(99, 102, 241, 0.15)';
            dots.forEach((dot, idx) => {
                dot.x += dot.vx; dot.y += dot.vy;
                if (dot.x < 0 || dot.x > canvas.width) dot.vx *= -1;
                if (dot.y < 0 || dot.y > canvas.height) dot.vy *= -1;
                ctx.beginPath(); ctx.arc(dot.x, dot.y, dot.size, 0, Math.PI * 2); ctx.fill();
                for (let j = idx + 1; j < dots.length; j++) {
                    const d2 = dots[j];
                    const dist = Math.hypot(dot.x - d2.x, dot.y - d2.y);
                    if (dist < 180) {
                        ctx.beginPath();
                        ctx.moveTo(dot.x, dot.y);
                        ctx.lineTo(d2.x, d2.y);
                        ctx.stroke();
                    }
                }
            });
            requestAnimationFrame(animateCanvas);
        }

        window.onresize = initCanvas;
        window.onload = () => { initCanvas(); animateCanvas(); showPage('home'); };
    </script>
</body>
</html>
